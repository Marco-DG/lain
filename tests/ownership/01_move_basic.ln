// 01_move_basic.ln
// Tests basic move semantics with 'mov' keyword.

type Resource {
    id int
}

func drop({id} mov Resource) {
    // destruct to consume via parameter
}

func consume_helper(res mov Resource) int {
    val = res.id
    drop(mov res)
    return val
}

func consume(r mov Resource) {
    drop(mov r)
}

func main() int {
    mut a Resource
    a.id = 1
    mut b = mov a    // Move a -> b
    
    // a is now invalid
    // var x = a.id // SHOULD ERROR: Use after move
    
    consume(mov b) // OK: Move b -> consume
    return 0
}
