// Test for use-after-move: should FAIL compilation
// Using a move-declared variable after it has been moved

type Item {
    id int
}

// This function properly consumes by returning via mov
func transfer(item mov Item) Item {
    return mov item
}

func main() int {
    // Declare as mutable to allow init (and move tracks consumption)
    var myitem Item
    myitem.id = 42
    
    // This consumes myitem (transfers ownership)
    transferred = transfer(mov myitem)
    
    // ERROR: myitem was already moved!
    bad_access = myitem.id
    
    return transferred.id + bad_access
}
