type Resource {
    data int
}

func use_resource(r Resource) int {
    return r.data
}

func consume_resource(r mov Resource) Resource {
    return mov r
}

func main() int {
    var res Resource
    res.data = 42
    
    if 1 < 2 {
        x = use_resource(res) // borrows res
        // borrow ends here
    }
    
    consume_resource(mov res) // should be OK
    return 0
}
