// Test for static bounds checking: should COMPILE and RUN successfully
// All array accesses are provably within bounds

extern proc libc_printf(fmt *u8, ...) int

proc main() int {
    // Fixed-size array
    var arr int[5] = undefined
    arr[0] = 10
    arr[1] = 20
    arr[2] = 30
    arr[3] = 40
    arr[4] = 50  // Max valid index is 4 for array of 5
    
    // Valid index access with compile-time constant
    var a = arr[0]
    var b = arr[4]
    var c = arr[2 + 1]  // 3 - compile-time evaluated to 3
    
    libc_printf("arr[0]=%d, arr[4]=%d, arr[3]=%d\n", a, b, c)
    
    return 0
}
