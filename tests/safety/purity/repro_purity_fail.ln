// This should FAIL compilation if purity is enforced
// A pure function calling an impure procedure

extern proc libc_printf(fmt *u8, ...) int

proc impure_action() {
    libc_printf("Side effect!\n")
}

func pure_function() int {
    // ERROR: Pure function calling impure procedure
    impure_action()
    return 0
}

proc main() int {
    return pure_function()
}
